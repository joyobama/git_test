# git学习
想了很久要学习重要工具git，一直没有学会，一方面是没有使用习惯，一方面是真的没有认真的学一下。
## git的工作流程
一般的工作流程如下：
1. 克隆git资源作为工作目录（前提是你有一个工作目录）-------->**克隆命令**
2. 在克隆的资源上添加或修改文件--------------------------->**本地操作**
3. 如果其他人更新的文件，可以更新资源---------------------->**更新命令**
4. 在提交前查看一下，你做了那些修改------------------------>**本地操作**
5. 提交修改---------------------------------------------->**提交命令**
6. 修改完成后，如果发现错误，可以撤回提交并再次修改并提交---->**撤回命令**

以上流程如一下流程图所示
![流程图](https://www.runoob.com/wp-content/uploads/2015/02/git-process.png "git流程图")

从上面的流程可以看出，基本的操作命令就是，克隆，更新，推送，撤回，四个命令，会这四个应该就能基本使用git了。

## git的基本概念
- 工作区-->就是电脑上能够看到的，能够编辑的文件目录，本地目录
- 暂存区-->stage或者index，一般存放在.git目录下的index文件（.git/index0）中，所以暂存区也叫index
- 版本库-->工作区有一个隐藏目录(.git)，这个是git的版本库，而不是工作目录
他们的关系如下图所示
![工作区，暂存区，版本库，以及主分支的关系图](https://www.runoob.com/wp-content/uploads/2015/02/1352126739_7909.jpg "工作区，暂存区，版本库，以及主分支的关系图")

从图中可以看出，index和master都是一个目录树而不是文件本身，文件本身是下面的objects，也就是说git之所有能够回滚的原因则是在于把所有更改都保存了下来，放在了版本库中，而master分支则是最在版本库中挑选出当前需要的objects。
下面说明一下，一些命令对index目录树以及master目录树有什么影响。

- 当对工作区修改（或新增）的文件执行 git add 命令时，暂存区的目录树被更新，同时工作区修改（或新增）的文件内容被写入到对象库中的一个新的对象中，而该对象的ID被记录在暂存区的文件索引中。
- 当执行提交操作（git commit）时，暂存区的目录树写到版本库（对象库）中，master 分支会做相应的更新。即 master 指向的目录树就是提交时暂存区的目录树。
- 当执行 git reset HEAD 命令时，暂存区的目录树会被重写，被 master 分支指向的目录树所替换，但是工作区不受影响。
- 当执行 git rm --cached <file> 命令时，会直接从暂存区删除文件，工作区则不做出改变。
- 当执行 git checkout . 或者 git checkout -- <file> 命令时，会用暂存区全部或指定的文件替换工作区的文件。这个操作很危险，会清除工作区中未添加到暂存区的改动。
- 当执行 git checkout HEAD . 或者 git checkout HEAD <file> 命令时，会用 HEAD 指向的 master 分支中的全部或者部分文件替换暂存区和以及工作区中的文件。这个命令也是极具危险性的，因为不但会清除工作区中未提交的改动，也会清除暂存区中未提交的改动。